(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{493:function(e,t){},606:function(e,t,n){e.exports=n(770)},683:function(e,t){},689:function(e,t){},770:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(47),o=n.n(i),l=n(182),c=n(183),u=n(194),s=n(184),f=n(195),m=n(867),d=n(228),p=n(866),h=n(132),v=n.n(h),b=n(473),E=n(478),w=n(857),g=n(185),j=n(474),O=n.n(j),y=n(53),C=n.n(y),x=function(e,t,n){var a=[];Object.keys(e).forEach(function(r){var i=Number(r),o=e[i];if(!isNaN(i))if(t)a.push(o);else{var l=new FileReader;l.readAsDataURL(o),l.onload=function(){n&&n([o])}}}),t&&n&&n(a)},k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).fileRef=a.createRef(),n.fileOnChange=function(e){var t=n.props,a=t.multiple,r=t.onChange,i=e.target.files,o=i[0];i.length&&(x(i,a,r),n.setState({file:o}))},n.state={file:null},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.multiple,n=e.disabled,r=e.isHide;return a.createElement("div",{className:"jsx-2833243397 "+(C()({"is-hide":r})||"")},a.createElement(O.a,{id:"2833243397"},["div.is-hide.jsx-2833243397{display:none;}"]),a.createElement("input",{type:"file",ref:this.fileRef,onChange:this.fileOnChange,multiple:t,disabled:n,className:"jsx-2833243397"}))}}]),t}(a.Component),S=n(475);function N(){var e=Object(S.a)(["\n  white-space: pre-wrap;\n\n  &:empty:not(:focus)::before {\n    content: attr(data-placeholder);\n    font-size: 14px;\n  }\n"]);return N=function(){return e},e}var R=n(3).default.div(N()),V=function(e){var t=e.width,n=e.height,r=e.d;return a.createElement("svg",{width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),focusable:"false",role:"presentation"},a.createElement("path",{d:r,fill:"currentColor",fillRule:"evenodd"}))},I=function(e){var t,n=e.content,r=e.elemBefore,i=e.onClick;return{content:n,value:{name:(t=n,t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,""))},tooltipDescription:n,tooltipPosition:"right",elemBefore:r||a.createElement(V,{width:"24",height:"24",d:"M10.208 7.308a1.09 1.09 0 0 1 0 1.483l-3.515 3.71 3.515 3.708a1.09 1.09 0 0 1 0 1.483.957.957 0 0 1-1.405 0l-3.866-4.08a1.635 1.635 0 0 1 0-2.225l3.866-4.08a.957.957 0 0 1 1.405 0zm3.584 0a.957.957 0 0 1 1.405 0l3.866 4.08c.583.614.583 1.61 0 2.225l-3.866 4.08a.957.957 0 0 1-1.405 0 1.09 1.09 0 0 1 0-1.484l3.515-3.708-3.515-3.71a1.09 1.09 0 0 1 0-1.483z"}),onClick:i}},U=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).fileInputRef=a.createRef(),n.transformer=void 0,n.recursiveFileUploadQueue=function(e){var t=n.state.filesName;n.setState({filesName:[].concat(Object(d.a)(t),Object(d.a)(e.map(function(e){return e.name})))})},n.transformer=new g.a,n.state={isShowEditorValue:!1,jsonDocument:"{}",filesName:[]},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.renderEditor,n=this.state,r=n.isShowEditorValue,i=n.filesName;return a.createElement(E.a,null,a.createElement(a.Fragment,null,a.createElement("button",{onClick:function(){e.setState({isShowEditorValue:!r})}},"Show/Hide JSON Data"),a.createElement(k,{ref:this.fileInputRef,onChange:this.recursiveFileUploadQueue,multiple:!0,isHide:!0}),a.createElement(w.a,{render:function(t){return a.createElement(a.Fragment,null,a.createElement("button",{onClick:Object(b.a)(v.a.mark(function n(){var a,r;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.props.getValue,n.next=3,t.getValue();case 3:r=n.sent,a(r);case 5:case"end":return n.stop()}},n)}))},"Save"))}}),t({onChange:function(t){var n,a=(n=e.transformer.encode(t.state.doc),JSON.stringify(n,null,2));e.setState({jsonDocument:a})},fileUploadMenuItem:I({content:"File Upload",onClick:function(){return e.fileInputRef.current.fileRef.current.click()}})}),r&&a.createElement(R,null,this.state.jsonDocument),!!i.length&&a.createElement("ul",null,i.map(function(e){return a.createElement("li",null,e)}))))}}]),t}(a.Component),F=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,D=/(?:vimeo)\.com.*(?:videos|video|channels|)\/([\d]+)/i,M={movie:I({content:"Movie extension",onClick:function(e){var t=prompt("Input Url")||"",n=t.match(F),a=t.match(D),r={};if(n&&11===n[2].length)r.type="youtube",r.url=n;else{if(!a||!t[1])return null;r.type="vimeo",r.url=a}e.replaceSelection({type:"extension",attrs:{extensionType:"com.haniplanet.macro.core",extensionKey:"movie",text:"Movie extension",parameters:r}})}})},H=function(e){return e.map(function(e){return M[e]})},B={"com.haniplanet.macro.core":function(e,t){var n=e.extensionKey,r=e.parameters;switch(n){case"movie":var i=r.type,o=r.url,l={};if("youtube"===i)l.id=o[2],l.src="//www.youtube.com/embed/";else{if("vimeo"!==i)return null;l.id=o[1],l.src="//player.vimeo.com/video/"}return a.createElement("div",null,a.createElement("iframe",{title:"movie-".concat(l.id),width:"560",height:"315",src:l.src+l.id}));default:return null}}},J=function(e){return a.createElement(U,Object.assign({renderEditor:function(e){var t=e.onChange,n=e.fileUploadMenuItem;return a.createElement(p.a,{appearance:"comment",extensionHandlers:B,insertMenuItems:[].concat(Object(d.a)(H(["movie"])),[n]),onChange:t,allowExtension:!0})}},e))},z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={editorValue:""},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.createElement(a.Fragment,null,a.createElement(J,{getValue:function(t){return e.setState({editorValue:t})}}),a.createElement(m.a,{document:this.state.editorValue,extensionHandlers:B}))}}]),t}(a.Component);o.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[606,182,183]]]);
//# sourceMappingURL=main.0b0a3dd8.chunk.js.map