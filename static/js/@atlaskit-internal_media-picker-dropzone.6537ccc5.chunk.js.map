{"version":3,"sources":["../node_modules/@atlaskit/media-picker/util/documentReady.js","../node_modules/@atlaskit/media-picker/util/getAssetUrl.js","../node_modules/@atlaskit/media-picker/components/dropzone/dropzoneUI.js","../node_modules/@atlaskit/media-picker/util/parseHTML.js","../node_modules/@atlaskit/media-picker/components/dropzone/index.js","../node_modules/@atlaskit/media-ui/messages.js"],"names":["__webpack_require__","d","__webpack_exports__","whenDomReady","exenv__WEBPACK_IMPORTED_MODULE_0__","document","readyState","Promise","resolve","window","addEventListener","getAssetUrl","assetName","assetsHost","dropzoneUI","formatMessage","htmlString","wrapper","createElement","innerHTML","childNodes","parseHTML","messages","drop_your_files_here","share_files_instantly","Object","dropzone_DropzoneImpl","toArray","arr","slice","call","_super","DropzoneImpl","context","config","uploadParams","_this","this","onFileDropped","dragEvent","dataTransfer","preventDefault","stopPropagation","onDrop","filesArray","files","uploadService","addFiles","removeContainerListeners","container","removeEventListener","onDragOver","onDragLeave","addContainerListeners","e","instance","dragContainsFiles","allowed","effectAllowed","dropEffect","classList","add","length_1","getDraggedItemsLength","emitDragOver","length","remove","length_2","emitDragLeave","length_3","emit","undefined","headless","proxyReactContext","body","uiActive","tslib_es6","prototype","activate","documentReady","then","createInstance","addDropzone","deactivate","removeDropzone","items","filter","i","kind","getDropzoneUI","appendChild","intl","defaultFormatMessage","index_es","locale","getChildContext","payload","setTimeout","event","types","indexOf","localUpload","react_intl__WEBPACK_IMPORTED_MODULE_0__","retry","id","defaultMessage","description","failed_to_load","recent_uploads","upload_file","drag_and_drop_your_files","drop_your_files","upload","cancel","search_all_gifs","cant_retrieve_gifs","check_your_network","try_again","no_gifs_found","no_gifs_found_suggestion","load_more_gifs","add_account","unlink_account","upload_file_from","connect_to","connect_account_description","upload_an_avatar","save","or","upload_photo","default_avatars","drag_and_drop_images_here","upload_image","image_url_invalid_error","image_format_invalid_error","image_size_too_large_error","something_went_wrong","might_be_a_hiccup","couldnt_generate_preview","cant_preview_file_type","item_not_found_in_list","no_pdf_artifacts","give_feedback","try_downloading_file","webgl_warning_description","unable_to_annotate_image","learn_more","accounts","actions","error_hint_retry","error_hint_critical","close","could_not_load_editor","could_not_save_image","annotate","annotate_tool_arrow","annotate_tool_text","annotate_tool_shape","annotate_tool_brush","annotate_tool_blur","annotate_tool_line_thickness","annotate_tool_color","annotate_confirmation_close_anyway","annotate_confirmation_heading","annotate_confirmation_content","insert_files","zoom_out","zoom_in","remove_image","play","pause","disable_fullscreen","enable_fullscreen","error_loading_file","error_generating_preview","download","unknown","audio","video","image"],"mappings":"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","file":"static/js/@atlaskit-internal_media-picker-dropzone.6537ccc5.chunk.js","sourcesContent":["import * as exenv from 'exenv'; // https://gist.github.com/dragosh/e9baf2d7bf3673a98c91\n\nvar checkDomReady = function checkDomReady() {\n  if (document.readyState === 'complete') {\n    return Promise.resolve();\n  }\n\n  return new Promise(function (resolve) {\n    window.addEventListener('load', resolve);\n  });\n};\n\nexport var whenDomReady = exenv.canUseDOM ? checkDomReady() : Promise.resolve();","var assetsHost = 'https://aui-cdn.atlassian.com/media';\nexport var getAssetUrl = function getAssetUrl(assetName) {\n  return assetsHost + \"/\" + assetName;\n};","import { messages } from '@atlaskit/media-ui';\nimport { parseHTML } from '../../util/parseHTML';\nimport { wrapperStyles } from './styled';\nimport { getAssetUrl } from '../../util/getAssetUrl'; // TODO [MSW-385]: Remove template string and use React\n\nexport default (function (formatMessage) {\n  return parseHTML(\"<div class=\\\"mediaPickerDropzone\\\">\\n    <style>\" + wrapperStyles + \"</style>\\n    <div class=\\\"mp-content\\\">\\n        <div class=\\\"mp-circle\\\">\\n            <div class=\\\"mp-text\\\">\\n                <span class=\\\"mp-title\\\">\" + formatMessage(messages.drop_your_files_here) + \"</span>\\n                <span class=\\\"mp-description\\\">\" + formatMessage(messages.share_files_instantly) + \"</span>\\n            </div>\\n            <img class=\\\"mp-fileIcon mp-iconAtlassianDoc\\\" src=\\\"\" + getAssetUrl('pie-chart-icon.png') + \"\\\"/>\\n            <img class=\\\"mp-fileIcon mp-iconOtherDoc\\\" src=\\\"\" + getAssetUrl('line-graph-icon.png') + \"\\\" />\\n            <img class=\\\"mp-fileIcon mp-iconPageSpreadsheet\\\" src=\\\"\" + getAssetUrl('flow-chart-icon.png') + \"\\\" />\\n        </div>\\n    </div>\\n  </div>\");\n});","export var parseHTML = function parseHTML(htmlString) {\n  var wrapper = document.createElement('div');\n  wrapper.innerHTML = htmlString;\n  return wrapper.childNodes[0];\n};","import * as tslib_1 from \"tslib\";\nimport { IntlProvider } from 'react-intl';\nimport { LocalUploadComponent } from '../localUpload';\nimport { whenDomReady } from '../../util/documentReady';\nimport dropzoneUI from './dropzoneUI';\n\nvar toArray = function toArray(arr) {\n  return [].slice.call(arr, 0);\n};\n\nvar DropzoneImpl =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(DropzoneImpl, _super);\n\n  function DropzoneImpl(context, config) {\n    if (config === void 0) {\n      config = {\n        uploadParams: {}\n      };\n    }\n\n    var _this = _super.call(this, context, config) || this;\n\n    _this.onFileDropped = function (dragEvent) {\n      if (!dragEvent.dataTransfer) {\n        return;\n      }\n\n      dragEvent.preventDefault();\n      dragEvent.stopPropagation();\n\n      _this.onDrop(dragEvent);\n\n      var filesArray = [].slice.call(dragEvent.dataTransfer.files);\n\n      _this.uploadService.addFiles(filesArray);\n    };\n\n    _this.removeContainerListeners = function () {\n      _this.container.removeEventListener('dragover', _this.onDragOver, false);\n\n      _this.container.removeEventListener('dragleave', _this.onDragLeave, false);\n    };\n\n    _this.addContainerListeners = function () {\n      _this.container.addEventListener('dragover', _this.onDragOver, false);\n\n      _this.container.addEventListener('dragleave', _this.onDragLeave, false);\n    };\n\n    _this.onDragOver = function (e) {\n      e.preventDefault();\n\n      if (_this.instance && e.dataTransfer && DropzoneImpl.dragContainsFiles(e)) {\n        var dataTransfer = e.dataTransfer;\n        var allowed = void 0;\n\n        try {\n          allowed = dataTransfer.effectAllowed;\n        } catch (e) {} // the error is expected in IE11\n\n\n        dataTransfer.dropEffect = 'move' === allowed || 'linkMove' === allowed ? 'move' : 'copy';\n\n        _this.instance.classList.add('active');\n\n        var length_1 = _this.getDraggedItemsLength(dataTransfer);\n\n        _this.emitDragOver({\n          length: length_1\n        });\n      }\n    };\n\n    _this.onDragLeave = function (e) {\n      if (_this.instance && e.dataTransfer) {\n        e.preventDefault();\n\n        _this.instance.classList.remove('active');\n\n        var length_2 = 0;\n\n        if (DropzoneImpl.dragContainsFiles(e)) {\n          var dataTransfer = e.dataTransfer;\n          length_2 = _this.getDraggedItemsLength(dataTransfer);\n        }\n\n        _this.emitDragLeave({\n          length: length_2\n        });\n      }\n    };\n\n    _this.onDrop = function (e) {\n      var instance = _this.instance;\n\n      if (instance && e.dataTransfer && DropzoneImpl.dragContainsFiles(e)) {\n        instance.classList.remove('active');\n        var dataTransfer = e.dataTransfer;\n\n        var length_3 = _this.getDraggedItemsLength(dataTransfer);\n\n        _this.emit('drop', undefined);\n\n        _this.emitDragLeave({\n          length: length_3\n        });\n      }\n    };\n\n    var container = config.container,\n        headless = config.headless,\n        proxyReactContext = config.proxyReactContext;\n    _this.container = container || document.body;\n    _this.headless = headless || false;\n    _this.uiActive = false;\n    _this.proxyReactContext = proxyReactContext;\n    return _this;\n  }\n\n  DropzoneImpl.prototype.activate = function () {\n    var _this = this;\n\n    return whenDomReady.then(function () {\n      _this.container = _this.container || document.body;\n\n      if (!_this.instance) {\n        return _this.createInstance();\n      }\n    }).then(function () {\n      _this.removeContainerListeners(); // in case we call activate twice in a row\n\n\n      _this.addContainerListeners();\n\n      _this.addDropzone();\n    });\n  };\n\n  DropzoneImpl.prototype.deactivate = function () {\n    this.removeContainerListeners();\n    this.removeDropzone();\n  };\n\n  DropzoneImpl.prototype.addDropzone = function () {\n    this.container.addEventListener('drop', this.onFileDropped);\n  };\n\n  DropzoneImpl.prototype.removeDropzone = function () {\n    this.container.removeEventListener('drop', this.onFileDropped);\n\n    if (this.instance) {\n      this.instance.remove();\n    }\n  }; // Cross-browser way of getting dragged items length, we prioritize \"items\" if present\n  // https://www.w3.org/TR/html51/editing.html#the-datatransfer-interface\n  // This method is used on 'dragover' and we have no way to retrieve FileSystemFileEntry,\n  // which contains info about if the dropped item is a file or directory. That info is only\n  // available on 'drop'\n\n\n  DropzoneImpl.prototype.getDraggedItemsLength = function (dataTransfer) {\n    if (dataTransfer.items) {\n      var items = toArray(dataTransfer.items);\n      return items.filter(function (i) {\n        return i.kind === 'file';\n      }).length;\n    } // This is required for IE11\n\n\n    return dataTransfer.files.length;\n  };\n\n  DropzoneImpl.prototype.createInstance = function () {\n    this.instance = this.getDropzoneUI();\n    this.container.appendChild(this.instance);\n  };\n\n  DropzoneImpl.prototype.getDropzoneUI = function () {\n    if (this.headless) {\n      var container = document.createElement('DIV');\n      container.classList.add('headless-dropzone');\n      return container;\n    } else {\n      if (this.proxyReactContext && this.proxyReactContext.intl) {\n        var formatMessage = this.proxyReactContext.intl.formatMessage;\n        return dropzoneUI(formatMessage);\n      }\n\n      var defaultFormatMessage = new IntlProvider({\n        locale: 'en'\n      }).getChildContext().intl.formatMessage;\n      return dropzoneUI(defaultFormatMessage);\n    }\n  };\n\n  DropzoneImpl.prototype.emitDragOver = function (e) {\n    if (!this.uiActive) {\n      this.uiActive = true;\n      this.emit('drag-enter', e);\n    }\n  };\n\n  DropzoneImpl.prototype.emitDragLeave = function (payload) {\n    var _this = this;\n\n    if (this.uiActive) {\n      this.uiActive = false;\n      /*\n       when drag over child elements, container will issue dragleave and then dragover immediately.\n       The 50ms timeout will prevent from issuing that \"false\" dragleave event\n       */\n\n      window.setTimeout(function () {\n        if (!_this.uiActive) {\n          _this.emit('drag-leave', payload);\n        }\n      }, 50);\n    }\n  };\n\n  DropzoneImpl.dragContainsFiles = function (event) {\n    if (!event.dataTransfer) {\n      return false;\n    }\n\n    var types = event.dataTransfer.types;\n    return toArray(types).indexOf('Files') > -1;\n  };\n\n  return DropzoneImpl;\n}(LocalUploadComponent);\n\nexport { DropzoneImpl };","import { defineMessages } from 'react-intl';\nexport var messages = defineMessages({\n  retry: {\n    id: 'fabric.media.retry',\n    defaultMessage: 'Retry',\n    description: 'Allows user to perform an action again'\n  },\n  failed_to_load: {\n    id: 'fabric.media.failed_to_load',\n    defaultMessage: 'Failed to load',\n    description: 'We show this message when we have an error loading a file'\n  },\n  recent_uploads: {\n    id: 'fabric.media.recent_uploads',\n    defaultMessage: 'Recent uploads',\n    description: 'Title of a section where we show the user recent uploaded files'\n  },\n  upload_file: {\n    id: 'fabric.media.upload_file',\n    defaultMessage: 'Upload a file',\n    description: 'Call to action that initiates the upload of a file'\n  },\n  drag_and_drop_your_files: {\n    id: 'fabric.media.drag_and_drop_your_files',\n    defaultMessage: 'Drag and drop your files anywhere or',\n    description: 'Used to describe the area where the user can drag and drop files to upload'\n  },\n  drop_your_files: {\n    id: 'fabric.media.drop_your_files',\n    defaultMessage: 'Drop your files to upload',\n    description: 'Indicates that the files will be uploaded when the user drops them in the drag and drop area'\n  },\n  upload: {\n    id: 'fabric.media.upload',\n    defaultMessage: 'Upload',\n    description: 'upload'\n  },\n  cancel: {\n    id: 'fabric.media.cancel',\n    defaultMessage: 'Cancel',\n    description: 'cancel'\n  },\n  search_all_gifs: {\n    id: 'fabric.media.search_all_gifs',\n    defaultMessage: 'Search all the GIFs!',\n    description: 'Used as input placeholder to let the user know that they can search for GIF image files'\n  },\n  cant_retrieve_gifs: {\n    id: 'fabric.media.cant_retrieve_gifs',\n    defaultMessage: 'Ouch! We could not retrieve any GIFs',\n    description: 'Error message when we can not find any GIF images for that text'\n  },\n  check_your_network: {\n    id: 'fabric.media.check_your_network',\n    defaultMessage: 'Check your network connection',\n    description: 'Error message when network does not work'\n  },\n  try_again: {\n    id: 'fabric.media.try_again',\n    defaultMessage: 'Try again',\n    description: 'Allow the user to try an action again'\n  },\n  no_gifs_found: {\n    id: 'fabric.media.no_gifs_found',\n    defaultMessage: \"Hello? Was it me you're looking for?\",\n    description: 'Not expected error that happens when searching for GIF images'\n  },\n  no_gifs_found_suggestion: {\n    id: 'fabric.media.no_gifs_found_suggestion',\n    defaultMessage: 'We couldn\\'t find anything for \"{query}\"',\n    description: 'There are no results for GIFs matching that query'\n  },\n  load_more_gifs: {\n    id: 'fabric.media.load_more_gifs',\n    defaultMessage: 'Load more GIFs',\n    description: 'Used to load next page of GIF images'\n  },\n  add_account: {\n    id: 'fabric.media.add_account',\n    defaultMessage: 'Add account',\n    description: 'Allows to add a new account'\n  },\n  unlink_account: {\n    id: 'fabric.media.unlink_account',\n    defaultMessage: 'Unlink Account',\n    description: 'Allows to remove a connected account from the user'\n  },\n  upload_file_from: {\n    id: 'fabric.media.upload_file_from',\n    defaultMessage: 'Upload a file from {name}',\n    description: 'Allows to upload a file from different sources'\n  },\n  connect_to: {\n    id: 'fabric.media.connect_to',\n    defaultMessage: 'Connect to {name}',\n    description: 'Allows the user to connect with different types of external services'\n  },\n  connect_account_description: {\n    id: 'fabric.media.connect_account_description',\n    defaultMessage: \"We'll open a new page to help you connect your {name} account\",\n    description: 'Explains what will happen when the users connects to a new account'\n  },\n  upload_an_avatar: {\n    id: 'fabric.media.upload_an_avatar',\n    defaultMessage: 'Upload an avatar',\n    description: 'Indicates that the user can upload a new avatar'\n  },\n  save: {\n    id: 'fabric.media.save',\n    defaultMessage: 'Save',\n    description: 'Just the \"save\" word'\n  },\n  or: {\n    id: 'fabric.media.or',\n    defaultMessage: 'or',\n    description: 'Just the \"or\" word'\n  },\n  upload_photo: {\n    id: 'fabric.media.upload_photo',\n    defaultMessage: 'Upload a photo',\n    description: 'Call to action for the user to upload a new photo'\n  },\n  default_avatars: {\n    id: 'fabric.media.default_avatars',\n    defaultMessage: 'Default avatars',\n    description: 'Showed above the default avatar list'\n  },\n  drag_and_drop_images_here: {\n    id: 'fabric.media.drag_and_drop_images_here',\n    defaultMessage: 'Drag and drop your images here',\n    description: 'Indicates that the user can drag and drop images in that area'\n  },\n  upload_image: {\n    id: 'fabric.media.upload_image',\n    defaultMessage: 'Upload image',\n    description: 'Call to action for the user to upload a new image'\n  },\n  image_url_invalid_error: {\n    id: 'fabric.media.image_url_invalid_error',\n    defaultMessage: 'Could not load image, the url is invalid.',\n    description: 'There was an error parsing the image url'\n  },\n  image_format_invalid_error: {\n    id: 'fabric.media.image_format_invalid_error',\n    defaultMessage: 'Could not load image, the format is invalid.',\n    description: 'The provided image format is not valid'\n  },\n  image_size_too_large_error: {\n    id: 'fabric.media.image_size_too_large_error',\n    defaultMessage: 'Image is too large, must be no larger than {MAX_SIZE_MB}Mb',\n    description: 'The provided image size is too big'\n  },\n  something_went_wrong: {\n    id: 'fabric.media.something_went_wrong',\n    defaultMessage: 'Something went wrong.',\n    description: 'Showed when an error happen but we dont have more info about it'\n  },\n  might_be_a_hiccup: {\n    id: 'fabric.media.might_be_a_hiccup',\n    defaultMessage: 'It might just be a hiccup.',\n    description: 'Used when an unknow error happens, just in a funny way of saying that we dont have more info about it'\n  },\n  couldnt_generate_preview: {\n    id: 'fabric.media.couldnt_generate_preview',\n    defaultMessage: \"We couldn't generate a preview for this file.\",\n    description: 'Error case for when the backend cant generate a preview for that file'\n  },\n  cant_preview_file_type: {\n    id: 'fabric.media.cant_preview_file_type',\n    defaultMessage: \"We can't preview this file type.\",\n    description: 'Error case for when we have no available preview for that file'\n  },\n  item_not_found_in_list: {\n    id: 'fabric.media.item_not_found_in_list',\n    defaultMessage: 'The selected item was not found on the list.',\n    description: 'Error case for when a provided item is not found within the list of items'\n  },\n  no_pdf_artifacts: {\n    id: 'fabric.media.no_pdf_artifacts',\n    defaultMessage: 'No PDF artifacts found for this file.',\n    description: 'Error case for when we cant preview a PDF file'\n  },\n  give_feedback: {\n    id: 'fabric.media.give_feedback',\n    defaultMessage: 'Give feedback',\n    description: 'Call to action that opens a popup to get feedback from the users'\n  },\n  try_downloading_file: {\n    id: 'fabric.media.try_downloading_file',\n    defaultMessage: 'Try downloading the file to view it.',\n    description: 'We show this message to allow users to download a file'\n  },\n  webgl_warning_description: {\n    id: 'fabric.media.webgl_warning_description',\n    defaultMessage: 'Your browser does not support WebGL. Use a WebGL enabled browser to annotate images.',\n    description: 'We show this error message when the browser doesnt support this feature'\n  },\n  unable_to_annotate_image: {\n    id: 'fabric.media.unable_to_annotate_image',\n    defaultMessage: \"You're unable to annotate this image\",\n    description: 'If there is an error trying to annotate an image we show this'\n  },\n  learn_more: {\n    id: 'fabric.media.learn_more',\n    defaultMessage: 'Learn More',\n    description: ''\n  },\n  accounts: {\n    id: 'fabric.media.accounts',\n    defaultMessage: 'Accounts',\n    description: ''\n  },\n  actions: {\n    id: 'fabric.media.actions',\n    defaultMessage: 'Actions',\n    description: ''\n  },\n  error_hint_retry: {\n    id: 'fabric.media.error_hint_retry',\n    defaultMessage: \"Try again and we'll give it another shot.\",\n    description: 'Generic message that we show if an action failed'\n  },\n  error_hint_critical: {\n    id: 'fabric.media.error_hint_critical',\n    defaultMessage: 'If the problem keeps happening contact support.',\n    description: 'We show this error message if we cant recover from the action'\n  },\n  close: {\n    id: 'fabric.media.close',\n    defaultMessage: 'Close',\n    description: ''\n  },\n  could_not_load_editor: {\n    id: 'fabric.media.could_not_load_editor',\n    defaultMessage: 'Ouch! We could not load the editor',\n    description: 'Error message to communicate that we cant load the editor'\n  },\n  could_not_save_image: {\n    id: 'fabric.media.could_not_save_image',\n    defaultMessage: 'Ouch! We could not save the image',\n    description: 'Error message to communicate that we cant save an image'\n  },\n  annotate: {\n    id: 'fabric.media.annotate',\n    defaultMessage: 'Annotate',\n    description: ''\n  },\n  annotate_tool_arrow: {\n    id: 'fabric.media.annotate.tool.arrow',\n    defaultMessage: 'Arrow',\n    description: ''\n  },\n  annotate_tool_text: {\n    id: 'fabric.media.annotate.tool.text',\n    defaultMessage: 'Text',\n    description: ''\n  },\n  annotate_tool_shape: {\n    id: 'fabric.media.annotate.tool.shape',\n    defaultMessage: 'Shape',\n    description: ''\n  },\n  annotate_tool_brush: {\n    id: 'fabric.media.annotate.tool.brush',\n    defaultMessage: 'Brush',\n    description: ''\n  },\n  annotate_tool_blur: {\n    id: 'fabric.media.annotate.tool.blur',\n    defaultMessage: 'Blur',\n    description: ''\n  },\n  annotate_tool_line_thickness: {\n    id: 'fabric.media.annotate.tool.line.thickness',\n    defaultMessage: 'Line thickness',\n    description: ''\n  },\n  annotate_tool_color: {\n    id: 'fabric.media.annotate.tool.color',\n    defaultMessage: 'Color',\n    description: ''\n  },\n  annotate_confirmation_close_anyway: {\n    id: 'fabric.media.annotate.confirmation.close.anyway',\n    defaultMessage: 'Close anyway',\n    description: ''\n  },\n  annotate_confirmation_heading: {\n    id: 'fabric.media.annotate.confirmation.heading',\n    defaultMessage: 'Unsaved changes',\n    description: ''\n  },\n  annotate_confirmation_content: {\n    id: 'fabric.media.annotate.confirmation.content',\n    defaultMessage: 'You have some unsaved changes. Are you sure you want to leave?',\n    description: ''\n  },\n  drop_your_files_here: {\n    id: 'fabric.media.drop_your_files_here',\n    defaultMessage: 'Drop your files here',\n    description: 'Info message that we show to indicate that the user can drag and drop files'\n  },\n  share_files_instantly: {\n    id: 'fabric.media.share_files_instantly',\n    defaultMessage: \"We'll share them instantly\",\n    description: 'It means that we will upload the files you drag and drop automatically'\n  },\n  insert_files: {\n    id: 'fabric.media.insert_files',\n    defaultMessage: 'Insert {0, plural, one {a file} other {{0} files}}',\n    description: 'Showed when the user selects 1 or more files to insert'\n  },\n  zoom_out: {\n    id: 'fabric.media.zoom_out',\n    defaultMessage: 'zoom out',\n    description: 'Indicates the user can zoom out a file'\n  },\n  zoom_in: {\n    id: 'fabric.media.zoom_in',\n    defaultMessage: 'zoom in',\n    description: 'Indicates the user can zoom in a file'\n  },\n  remove_image: {\n    id: 'fabric.media.remove_image',\n    defaultMessage: 'Remove image',\n    description: 'Allows the user to remove a file'\n  },\n  play: {\n    id: 'fabric.media.play',\n    defaultMessage: 'play',\n    description: ''\n  },\n  pause: {\n    id: 'fabric.media.pause',\n    defaultMessage: 'pause',\n    description: ''\n  },\n  disable_fullscreen: {\n    id: 'fabric.media.disable_fullscreen',\n    defaultMessage: 'disable fullscreen',\n    description: 'Hint to let the user know they can disable the fullscreen mode'\n  },\n  enable_fullscreen: {\n    id: 'fabric.media.enable_fullscreen',\n    defaultMessage: 'enable fullscreen',\n    description: 'Hint to let the user know they can enable the fullscreen mode'\n  },\n  error_loading_file: {\n    id: 'fabric.media.error_loading_file',\n    defaultMessage: 'Error loading file',\n    description: 'Message showed when we had an error trying to load the file'\n  },\n  error_generating_preview: {\n    id: 'fabric.media.error_generating_preview',\n    defaultMessage: 'Error generating preview',\n    description: 'Message showed when we had an error trying generate a preview for a file'\n  },\n  download: {\n    id: 'fabric.media.download',\n    defaultMessage: 'Download',\n    description: ''\n  },\n  unknown: {\n    id: 'fabric.media.unknown',\n    defaultMessage: 'unknown',\n    description: ''\n  },\n  document: {\n    id: 'fabric.media.document',\n    defaultMessage: 'document',\n    description: ''\n  },\n  audio: {\n    id: 'fabric.media.audio',\n    defaultMessage: 'audio',\n    description: ''\n  },\n  video: {\n    id: 'fabric.media.video',\n    defaultMessage: 'video',\n    description: ''\n  },\n  image: {\n    id: 'fabric.media.image',\n    defaultMessage: 'image',\n    description: ''\n  }\n});"],"sourceRoot":""}